<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>ZAYN1x â€” Interactive Affiliate Dashboard</title>

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <meta name="description" content="ZAYN1x â€” Official 1XBET Affiliate Manager. Hybrid CPA + Revenue Share deals, weekly payouts, onboarding & support." />

  <style>
    :root{ --bg:#0f172a; --glass: rgba(255,255,255,0.03); --accent:#3b82f6; --accent-2:#60a5fa; }
    html,body{height:100%;}
    body {
      background-color: var(--bg);
      color: #e6eef8;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    .hero-gradient { background: radial-gradient(circle at top right, #1e3a8a, var(--bg)); }
    .glass { background: var(--glass); backdrop-filter: blur(8px); border: 1px solid rgba(255,255,255,0.05); }
    .shadow-deep{ box-shadow: 0 10px 40px rgba(2,6,23,0.6); }
    .marquee { white-space:nowrap; overflow:hidden; }
    .marquee span { display:inline-block; padding:0 2rem; transform:translateX(100%); animation:scroll 18s linear infinite; }
    @keyframes scroll { from { transform:translateX(0%);} to { transform:translateX(-100%);} }

    /* Range Slider base */
    .slider-wrap { position: relative; padding-top: 24px; }
    input[type='range']{
      -webkit-appearance:none; appearance:none;
      background: linear-gradient(90deg, var(--accent) 25%, #0b1220 25%);
      border-radius:10px; height:10px; width:100%;
      outline: none; transition: box-shadow .18s ease;
    }
    /* track for Firefox */
    input[type='range']::-moz-range-track {
      height: 10px; border-radius: 10px; background: transparent;
    }
    /* thumb */
    input[type='range']::-webkit-slider-thumb{ -webkit-appearance:none; appearance:none;
      width:22px; height:22px; background:var(--accent); border-radius:50%;
      border:2px solid rgba(255,255,255,0.95); cursor:pointer; box-shadow:0 8px 26px rgba(59,130,246,0.18);
      transition: transform .12s cubic-bezier(.2,.9,.3,1), box-shadow .12s;
      position: relative;
    }
    input[type='range']:active::-webkit-slider-thumb{ transform: scale(1.07) rotate(-6deg); box-shadow:0 14px 40px rgba(59,130,246,0.22); }

    /* Firefox thumb */
    input[type='range']::-moz-range-thumb {
      width:22px; height:22px; border-radius:50%; border:2px solid rgba(255,255,255,0.95); background:var(--accent);
      box-shadow:0 8px 26px rgba(59,130,246,0.18);
    }

    /* tooltip */
    .slider-tooltip{
      position:absolute; top:0; transform:translate(-50%,-6px);
      background:linear-gradient(180deg, #ffffff12, #00000014);
      padding:6px 10px; border-radius:10px; font-weight:700; font-size:13px;
      border:1px solid rgba(255,255,255,0.06); pointer-events:none;
      transition: transform .12s, opacity .12s; opacity:0;
      backdrop-filter: blur(6px);
      white-space:nowrap;
    }
    .slider-tooltip.visible { opacity:1; transform:translate(-50%,-12px) scale(1.02); }

    /* ticks and labels */
    .slider-ticks { display:flex; justify-content:space-between; margin-top:8px; font-size:12px; color:rgba(255,255,255,0.5); }

    /* small pulse on active drag */
    .thumb-pulse {
      position:absolute; width:36px; height:36px; border-radius:999px; left:0; top:50%; transform:translate(-50%,-50%); pointer-events:none;
      box-shadow:0 0 0 6px rgba(59,130,246,0.06);
      transition: box-shadow .24s;
    }
    .dragging .thumb-pulse { box-shadow:0 0 0 14px rgba(59,130,246,0.06); }

    /* CPA examples box */
    .cpa-examples { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.04); padding:10px; border-radius:12px; font-size:13px; color: #e6eef8; }
    .cpa-examples b{ color:var(--accent-2); }
    .chip { font-size:12px; padding:6px 10px; border-radius:999px; display:inline-block; }
    [tabindex]:focus { outline: 3px solid rgba(99,102,241,0.25); outline-offset: 3px; }

    /* tier-card tweaks */
    .tier-card { transition: all 0.35s ease; cursor:pointer; }
    .tier-card:hover { transform: translateY(-10px); box-shadow: 0 20px 50px rgba(0,0,0,0.45); }
    .tier-card.active { transform: translateY(-12px); border-width:2px; box-shadow: 0 24px 60px rgba(0,0,0,0.5); }
    .tier-check { opacity:0; transition:opacity 0.25s ease; }
    .tier-card.active .tier-check{ opacity:1; }
    .toast { position: fixed; right: 20px; bottom: 24px; z-index:9999; }
  </style>
</head>
<body class="antialiased leading-relaxed">
  <!-- NAV -->
  <nav class="p-4 flex items-center justify-between sticky top-0 z-50 bg-[#0f172a]/80 backdrop-blur-md border-b border-white/5">
    <div class="flex items-center gap-3">
      <img src="assets/logo.png" alt="ZAYN1x" class="h-8 w-auto" onerror="this.src='https://img.icons8.com/color/48/1xbet.png'" loading="lazy">
      <div class="text-xl font-extrabold tracking-tight"><span class="text-blue-400">ZAYN1x</span> <span class="text-sm text-white/60 font-semibold">Official 1X Partner</span></div>
    </div>
    <div class="flex items-center gap-3">
      <a href="#apply" class="hidden md:inline uppercase text-xs font-bold px-3 py-2 rounded-lg bg-blue-600/10 border border-blue-600/20 hover:bg-blue-600/20">Apply</a>
      <button id="navContact" class="uppercase text-xs font-bold px-3 py-2 rounded-lg bg-[#0088cc] hover:bg-[#0077b5]">Contact</button>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero-gradient text-center py-10 px-6">
    <div class="max-w-4xl mx-auto">
      <h1 class="animate__animated animate__fadeInDown text-3xl sm:text-4xl font-extrabold mb-3 bg-clip-text text-transparent bg-gradient-to-r from-white via-blue-200 to-blue-500">Partner with <span class="text-white/90">1XBET</span> â€” Grow & Earn</h1>
      <p class="text-sm text-white/60 max-w-2xl mx-auto mb-6">Hybrid CPA + Revenue share deals, sub-affiliate bonuses, weekly payouts, and hands-on support to help you scale.</p>

      <div class="flex items-center gap-3 justify-center">
        <button onclick="scrollToApply()" class="px-6 py-3 bg-blue-600 rounded-xl font-bold uppercase shadow-deep active:scale-95">Start Application</button>
        <button onclick="openContact()" class="px-6 py-3 border border-white/6 rounded-xl font-semibold uppercase">Message Zayn</button>
      </div>

      <!-- Live payout ticker -->
      <div class="mt-6 glass py-3 px-4 rounded-xl max-w-4xl mx-auto mt-6">
        <div class="flex items-center justify-between">
          <div class="text-xs text-white/70 uppercase font-bold">Latest payouts</div>
          <div class="flex items-center gap-3">
            <div class="text-[12px] text-white/60">Live</div>
            <div id="tickerStatus" class="w-2 h-2 rounded-full bg-emerald-400/90"></div>
          </div>
        </div>
        <div class="mt-3 overflow-hidden relative">
          <div id="marquee" class="marquee text-[13px] text-white/80 py-2"></div>
        </div>
      </div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 -mt-10 relative">
    <!-- Top quick stats -->
    <section class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
      <div class="glass p-4 rounded-2xl shadow-deep text-center">
        <div class="text-sm text-white/60 uppercase mb-1">Active Affiliates</div>
        <div class="text-3xl font-extrabold" id="statAffiliates">0</div>
        <div class="text-xs text-white/70 mt-1">growth this month</div>
      </div>
      <div class="glass p-4 rounded-2xl shadow-deep text-center">
        <div class="text-sm text-white/60 uppercase mb-1">Weekly Payouts</div>
        <div class="text-3xl font-extrabold" id="statPayouts">$0</div>
        <div class="text-xs text-white/70 mt-1">processed in last 7 days</div>
      </div>
      <div class="glass p-4 rounded-2xl shadow-deep text-center">
        <div class="text-sm text-white/60 uppercase mb-1">Sub-aff Bonus</div>
        <div class="text-3xl font-extrabold" id="statSub">5%</div>
        <div class="text-xs text-white/70 mt-1">lifetime</div>
      </div>
    </section>

    <!-- CALCULATOR CARD (DECOUPLED FROM TIERS) -->
    <section id="calculator" class="glass p-6 rounded-3xl border border-white/6 shadow-deep">
      <div class="flex flex-col md:flex-row gap-6">
        <div class="flex-1">
          <h3 class="text-xs font-bold mb-4 text-blue-300 uppercase tracking-wider">Earnings Calculator</h3>
          <label class="text-[11px] font-semibold text-white/80 flex justify-between mb-2">Estimated Monthly NGR <span class="font-mono" id="revenueVal">$5,000</span></label>

          <!-- slider container for tooltip & pulse -->
          <div class="slider-wrap relative">
            <input type="range" id="revenueSlider" min="0" max="200000" step="100" value="5000" aria-label="Monthly NGR slider">
            <div id="sliderTool" class="slider-tooltip">$5,000</div>
            <div id="thumbPulse" class="thumb-pulse" style="display:none;"></div>
            <div class="slider-ticks">
              <div>0</div>
              <div>50k</div>
              <div>100k</div>
              <div>150k</div>
              <div>200k</div>
            </div>
          </div>

          <div class="mt-4 grid grid-cols-2 gap-3">
            <label class="text-[12px] text-white/70">Model</label>
            <select id="modelSelect" class="rounded-lg p-2 bg-transparent border border-white/6">
              <option value="rev">Revenue Share</option>
              <option value="cpa">CPA</option>
              <option value="hybrid">Hybrid (CPA + RevShare)</option>
            </select>

            <label class="text-[12px] text-white/70">Commission rate</label>
            <div class="flex gap-2">
              <select id="rateSelect" class="rounded-lg p-2 bg-transparent border border-white/6 w-full">
                <option value="25">25%</option>
                <option value="30">30%</option>
                <option value="35">35%</option>
                <option value="40">40%</option>
                <option value="custom">Custom</option>
              </select>
              <input id="customRate" type="number" placeholder="% (custom)" class="rounded-lg p-2 bg-transparent border border-white/6 w-24" style="display:none;">
            </div>

            <label class="text-[12px] text-white/70">Estimated FTDs / month</label>
            <input id="ftdInput" type="number" value="10" min="0" class="rounded-lg p-2 bg-transparent border border-white/6">

            <label class="text-[12px] text-white/70">CPA package</label>
            <select id="cpaSelect" class="rounded-lg p-2 bg-transparent border border-white/6">
              <option value="3">3-1-3 ($3 per FTD)</option>
              <option value="4">4-1-4 ($4 per FTD)</option>
              <option value="5">5-1-5 ($5 per FTD)</option>
              <option value="7">7-4-10 ($7 per FTD)</option>
              <option value="10">10-5-20 ($10 per FTD)</option>
            </select>
          </div>

          <div class="mt-6 p-4 rounded-2xl bg-blue-600/6 border border-blue-500/10 text-center">
            <div class="text-[10px] uppercase text-blue-300 font-black tracking-wide">Estimated Monthly Commission</div>
            <div id="payoutDisplay" class="text-3xl font-extrabold mt-1">$1,250</div>
            <div class="text-[11px] text-white/60 mt-1" id="tierInfo">(Commission: 25%)</div>
            <div class="text-[11px] text-white/60 mt-2" id="cpaInfo"></div>
          </div>

          <div class="mt-3 cpa-examples" id="cpaExamples">
            <!-- Filled by JS: CPA examples & explanation -->
          </div>

          <div class="text-[11px] text-white/60 mt-2">*Calculator only estimates earnings â€” it's independent from the tier system. FTDs and CPA offers can be adjusted per region.</div>
        </div>

        <div class="w-full md:w-80">
          <h4 class="text-sm font-bold mb-3">Quick Facts</h4>
          <ul class="text-[13px] space-y-2 text-white/70">
            <li>â€¢ Tiered Revenue Share: 25% â†’ 40%+ (Diamond negotiable).</li>
            <li>â€¢ <strong>5% lifetime bonus</strong> on your sub-affiliates' earnings.</li>
            <li>â€¢ Hybrid model available: CPA + RevShare.</li>
            <li>â€¢ Weekly payouts via Binance wallet.</li>
            <li>â€¢ <span class="chip bg-white/6">Direct support from Zayn for every tier</span></li>
          </ul>
          <div class="mt-6">
            <a href="#apply" class="block w-full text-center py-2 rounded-lg bg-blue-600 font-bold">Apply Now</a>
            <button id="downloadPdf" class="mt-3 w-full py-2 rounded-lg border border-white/5">Download Affiliate Guide (EN)</button>
          </div>
        </div>
      </div>
    </section>

    <!-- TIER SYSTEM (UNCHANGED VISUALLY BUT NO LINK TO CALCULATOR) -->
    <section class="mt-12 glass p-8 rounded-3xl border border-white/6 shadow-deep">
      <h3 class="text-2xl font-extrabold mb-6 text-center uppercase tracking-tight">Affiliate Tier System</h3>
      <p class="text-center text-white/70 mb-8 max-w-3xl mx-auto">Performance-based tiers with increasing RevShare. FTD requirements listed below. *FTD thresholds can be adjusted per region.</p>

      <div class="grid grid-cols-1 md:grid-cols-5 gap-6" id="tierContainer">
        <!-- Bronze -->
        <div class="tier-card glass p-6 rounded-2xl text-center border border-amber-600/30 bg-amber-600/5" data-tier="bronze" data-rate="25" data-min="0" data-max="10000" data-ftd-min="0" data-ftd-max="250" tabindex="0" role="button" aria-pressed="false">
          <div class="text-3xl font-black text-amber-400 mb-2">Bronze</div>
          <div class="text-2xl font-extrabold mb-1">25%</div>
          <div class="text-xs text-white/60 mb-2">RevShare</div>
          <div class="text-xs uppercase font-bold text-amber-300 mb-2">Entry Level</div>
          <hr class="border-white/10 my-3">
          <p class="text-[13px] text-white/70">Monthly NGR<br>up to $10,000</p>
          <p class="text-[12px] text-white/70 mt-2">FTD: 0 â€“ 250</p>
          <p class="text-[12px] text-white/70 mt-2">Support: Direct (Zayn)</p>
          <svg class="tier-check mx-auto mt-4 w-8 h-8 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
        </div>

        <!-- Silver -->
        <div class="tier-card glass p-6 rounded-2xl text-center border border-gray-400/30 bg-gray-400/5" data-tier="silver" data-rate="30" data-min="10001" data-max="30000" data-ftd-min="251" data-ftd-max="500" tabindex="0" role="button" aria-pressed="false">
          <div class="text-3xl font-black text-gray-300 mb-2">Silver</div>
          <div class="text-2xl font-extrabold mb-1">30%</div>
          <div class="text-xs text-white/60 mb-2">RevShare</div>
          <div class="text-xs uppercase font-bold text-gray-300 mb-2">Growing</div>
          <hr class="border-white/10 my-3">
          <p class="text-[13px] text-white/70">Monthly NGR<br>$10,001 â€“ $30,000</p>
          <p class="text-[12px] text-white/70 mt-2">FTD: 251 â€“ 500</p>
          <p class="text-[12px] text-white/70 mt-2">Support: Direct (Zayn)</p>
          <svg class="tier-check mx-auto mt-4 w-8 h-8 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
        </div>

        <!-- Gold -->
        <div class="tier-card glass p-6 rounded-2xl text-center border border-yellow-500/40 bg-yellow-500/5" data-tier="gold" data-rate="35" data-min="30001" data-max="70000" data-ftd-min="501" data-ftd-max="1000" tabindex="0" role="button" aria-pressed="false">
          <div class="text-3xl font-black text-yellow-400 mb-2">Gold</div>
          <div class="text-2xl font-extrabold mb-1">35%</div>
          <div class="text-xs text-white/60 mb-2">RevShare</div>
          <div class="text-xs uppercase font-bold text-yellow-300 mb-2">Top Performer</div>
          <hr class="border-white/10 my-3">
          <p class="text-[13px] text-white/70">Monthly NGR<br>$30,001 â€“ $70,000</p>
          <p class="text-[12px] text-white/70 mt-2">FTD: 501 â€“ 1000</p>
          <p class="text-[12px] text-white/70 mt-2">Support: Direct (Zayn)</p>
          <svg class="tier-check mx-auto mt-4 w-8 h-8 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
        </div>

        <!-- Platinum -->
        <div class="tier-card glass p-6 rounded-2xl text-center border border-cyan-400/50 bg-cyan-400/5" data-tier="platinum" data-rate="40" data-min="70001" data-max="150000" data-ftd-min="1001" data-ftd-max="2000" tabindex="0" role="button" aria-pressed="false">
          <div class="text-3xl font-black text-cyan-300 mb-2">Platinum</div>
          <div class="text-2xl font-extrabold mb-1">40%</div>
          <div class="text-xs text-white/60 mb-2">RevShare</div>
          <div class="text-xs uppercase font-bold text-cyan-300 mb-2">Elite</div>
          <hr class="border-white/10 my-3">
          <p class="text-[13px] text-white/70">Monthly NGR<br>$70,001 â€“ $150,000</p>
          <p class="text-[12px] text-white/70 mt-2">FTD: 1001 â€“ 2000</p>
          <p class="text-[12px] text-white/70 mt-2">Support: Direct (Zayn)</p>
          <svg class="tier-check mx-auto mt-4 w-8 h-8 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
        </div>

        <!-- Diamond -->
        <div class="tier-card glass p-6 rounded-2xl text-center border border-purple-500/60 bg-purple-600/10" data-tier="diamond" data-rate="negotiable" data-min="150001" data-max="999999999" data-ftd-min="2001" data-ftd-max="999999999" tabindex="0" role="button" aria-pressed="false">
          <div class="text-3xl font-black text-purple-300 mb-2">Diamond</div>
          <div class="text-2xl font-extrabold mb-1">??%</div>
          <div class="text-xs text-white/60 mb-2">RevShare</div>
          <div class="text-xs uppercase font-bold text-purple-300 mb-2">VIP</div>
          <hr class="border-white/10 my-3">
          <p class="text-[13px] text-white/70">Monthly NGR<br>$150,001+</p>
          <p class="text-[12px] text-white/70 mt-2">FTD: 2001+</p>
          <p class="text-[12px] text-white/70 mt-2">Support: Direct (Zayn)</p>
          <p class="text-xs text-purple-200 mt-2">Negotiable rate + Exclusive perks</p>
          <svg class="tier-check mx-auto mt-4 w-8 h-8 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
        </div>
      </div>

      <div class="mt-8 text-center">
        <button id="openTierModal" class="px-6 py-3 rounded-xl bg-purple-600/20 border border-purple-500/20">Request Info (Text only)</button>
      </div>
    </section>

    <!-- Application (regions) -->
    <section id="apply" class="mt-8 mb-12">
      <h3 class="text-lg font-extrabold mb-4 text-center uppercase tracking-tight">Select Region & Apply</h3>
      <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 max-w-xl mx-auto">
        <button onclick="openForm('EN')" class="glass p-4 rounded-2xl flex flex-col items-center">ðŸ‡ºðŸ‡¸<span class="mt-2 text-[12px] font-black uppercase">English</span></button>
        <button onclick="openForm('AR')" class="glass p-4 rounded-2xl flex flex-col items-center">ðŸ‡¦ðŸ‡ª<span class="mt-2 text-[12px] font-black uppercase">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span></button>
        <button onclick="openForm('FR')" class="glass p-4 rounded-2xl flex flex-col items-center">ðŸ‡«ðŸ‡·<span class="mt-2 text-[12px] font-black uppercase">FranÃ§ais</span></button>
        <button onclick="openForm('TR')" class="glass p-4 rounded-2xl flex flex-col items-center">ðŸ‡¹ðŸ‡·<span class="mt-2 text-[12px] font-black uppercase">TÃ¼rkÃ§e</span></button>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="glass p-6 rounded-3xl border border-white/6 mb-20">
      <h3 class="text-xl font-extrabold mb-4">Contact</h3>
      <p class="text-[13px] text-white/70 mb-4">Prefer DMs? Use the button â€” otherwise fill the quick message form and I will reply by text.</p>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <input id="nameInput" placeholder="Your name" class="w-full p-3 rounded-lg bg-transparent border border-white/6" />
          <input id="contactInput" placeholder="Telegram handle or phone" class="w-full p-3 rounded-lg bg-transparent border border-white/6 mt-3" />
          <textarea id="messageInput" placeholder="Short message" class="w-full p-3 rounded-lg bg-transparent border border-white/6 mt-3 h-28"></textarea>
          <div class="mt-3 flex gap-3">
            <button id="sendMsgBtn" class="px-4 py-2 rounded-lg bg-blue-600 font-bold">Send</button>
            <button id="dmZayn" class="px-4 py-2 rounded-lg border border-white/6">DM on Telegram</button>
          </div>
        </div>
        <div class="h-full flex flex-col justify-center items-start gap-3">
          <div class="text-[13px] text-white/70">Quick links</div>
          <a class="underline text-sm" href="#apply">Application forms</a>
          <a class="underline text-sm" href="assets/affiliate_en.pdf">Affiliate Guide (EN)</a>
          <a class="underline text-sm" href="assets/affiliate_ar.pdf">Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø´Ø±ÙƒØ§Ø¡ (AR)</a>
          <div class="mt-6 text-[12px] text-white/60">Follow on Telegram: <a href="https://t.me/ZAYN1x" class="underline">@ZAYN1x</a></div>
        </div>
      </div>
    </section>
  </main>

  <!-- Tier Modal -->
  <div id="tierModal" class="fixed inset-0 hidden items-center justify-center z-50">
    <div class="absolute inset-0 bg-black/60" tabindex="-1" aria-hidden="true"></div>
    <div class="glass p-6 rounded-2xl z-50 w-11/12 max-w-xl mx-auto shadow-deep">
      <div class="flex justify-between items-start">
        <h4 id="tierModalTitle" class="text-xl font-bold">Tier Details</h4>
        <button id="closeTierModal" class="text-white/60">âœ•</button>
      </div>
      <div id="tierModalBody" class="mt-4 text-[13px] text-white/70"></div>
      <div class="mt-4 flex gap-3 justify-end">
        <button id="tierCallBtn" class="px-4 py-2 rounded-lg bg-[#0088cc]">Request Info (Text only)</button>
        <button id="tierCloseBtn" class="px-4 py-2 rounded-lg border border-white/6">Close</button>
      </div>
    </div>
  </div>

  <!-- Toast container -->
  <div id="toastArea" class="toast"></div>

  <footer class="text-center py-6 text-white/60">
    <div class="max-w-4xl mx-auto px-4">
      <div class="mb-3">Â© <strong>ZAYN1x</strong> â€” Official 1XBET Partner</div>
      <div class="text-[12px]">Built with focus on affiliates. Questions? <a href="#contact" class="underline">Contact Zayn</a>.</div>
    </div>
  </footer>

  <!-- SCRIPTS -->
  <script>
    // small toast helper
    const toast = (msg, time=2500) => {
      const area = document.getElementById('toastArea');
      const el = document.createElement('div');
      el.className = 'glass p-3 rounded-lg mb-2 shadow-deep animate__animated animate__fadeInUp';
      el.innerText = msg;
      area.appendChild(el);
      setTimeout(()=> el.classList.add('animate__fadeOutDown'), time-400);
      setTimeout(()=> el.remove(), time);
    };

    // --- Ticker (sample data)
    const payouts = [
      {name:'Ali', amt: 120, country:'EG'},
      {name:'Samir', amt: 75, country:'IQ'},
      {name:'Lina', amt: 300, country:'DZ'},
      {name:'Omar', amt: 250, country:'MA'},
      {name:'Jamal', amt: 40, country:'AE'},
      {name:'Hadi', amt: 90, country:'TR'},
      {name:'Rana', amt: 500, country:'SA'}
    ];
    function renderMarquee(){
      const m = document.getElementById('marquee');
      const parts = [];
      for(let i=0;i<20;i++){
        const p = payouts[i % payouts.length];
        parts.push(`${p.name} paid $${p.amt} â€” ${p.country}`);
      }
      m.innerHTML = '';
      const text = parts.join(' â€¢ ');
      const span = document.createElement('span'); span.innerText = text + ' â€¢ ';
      m.appendChild(span);
      const span2 = span.cloneNode(true); m.appendChild(span2);
    }
    renderMarquee();
    setInterval(()=> {
      const p = payouts.shift();
      payouts.push({name: p.name, amt: Math.max(10, p.amt + (Math.random()*200-100|0)), country: p.country});
      renderMarquee();
    }, 8000);

    // animated counters (demo)
    function animateCounter(id, from, to, ms=1200){
      const el = document.getElementById(id);
      const start = performance.now();
      const step = (now) => {
        const t = Math.min(1, (now - start) / ms);
        const val = Math.round(from + (to - from) * t);
        el.innerText = (id === 'statPayouts') ? `$${val.toLocaleString()}` : val.toLocaleString();
        if (t < 1) requestAnimationFrame(step);
      };
      requestAnimationFrame(step);
    }
    setTimeout(()=>{ animateCounter('statAffiliates', 0, 1240); animateCounter('statPayouts', 0, 18450); }, 400);

    // Calculator (DECOUPLED)
    const revSlider = document.getElementById('revenueSlider');
    const payoutDisplay = document.getElementById('payoutDisplay');
    const revVal = document.getElementById('revenueVal');
    const tierInfo = document.getElementById('tierInfo');
    const cpaInfo = document.getElementById('cpaInfo');
    const cpaExamplesEl = document.getElementById('cpaExamples');
    const sliderTool = document.getElementById('sliderTool');
    const thumbPulse = document.getElementById('thumbPulse');

    // UI elements
    const modelSelect = document.getElementById('modelSelect');
    const rateSelect = document.getElementById('rateSelect');
    const customRate = document.getElementById('customRate');
    const ftdInput = document.getElementById('ftdInput');
    const cpaSelect = document.getElementById('cpaSelect');

    // restore slider state
    const saved = localStorage.getItem('zayn_revenue') || null;
    if (saved) revSlider.value = saved;

    // CPA example definitions (explanations)
    const cpaExamples = [
      {k:'3', label:'3-1-3', payout:3, deposit:1, bet:3, note:'Affiliate receives $3 when player deposits $1+ and bets $3+.'}
    ];

    function renderCpaExamples(){
      const html = `
        <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:8px;">
          <div style="flex:1">
            <div style="font-weight:700;margin-bottom:6px;color:var(--accent-2)">CPA Payout Examples</div>
            <div style="font-size:13px;color:rgba(255,255,255,0.8);margin-bottom:6px">Common packages (can be adjusted per region):</div>
            <ul style="margin-left:14px">
              ${cpaExamples.map(e => `<li style="margin-bottom:6px"><b>${e.label}</b> â€” $${e.payout} per FTD &nbsp; <span style="color:rgba(255,255,255,0.6)">(${e.note})</span></li>`).join('')}
            </ul>
            <div style="font-size:12px;color:rgba(255,255,255,0.6);margin-top:8px">Tip: numbers are flexible â€” negotiate higher packages for specific regions or volume.</div>
          </div>
          <div style="width:150px;text-align:right">
            <div style="font-size:12px;color:rgba(255,255,255,0.6)">Selected package</div>
            <div id="selectedCpaBox" style="font-weight:800;font-size:16px;margin-top:6px;color:var(--accent)">${getCpaLabel(cpaSelect.value)}</div>
            <div id="selectedCpaNote" style="font-size:12px;color:rgba(255,255,255,0.6);margin-top:6px"></div>
          </div>
        </div>
      `;
      cpaExamplesEl.innerHTML = html;
      updateSelectedCpaNote();
    }

    function getCpaLabel(k){
      const ex = cpaExamples.find(x=>x.k===k);
      return ex ? `${ex.label} â€” $${ex.payout}/FTD` : '3-1-3 â€” $3/FTD';
    }

    function updateSelectedCpaNote(){
      const ex = cpaExamples.find(x=>x.k===cpaSelect.value);
      const box = document.getElementById('selectedCpaNote');
      if (ex) box.innerText = `${ex.note} (deposit â‰¥ $${ex.deposit}, bet â‰¥ $${ex.bet})`;
    }

    rateSelect.addEventListener('change', ()=>{ if (rateSelect.value === 'custom') customRate.style.display = 'inline-block'; else customRate.style.display = 'none'; updateCalculator(); });
    customRate.addEventListener('input', updateCalculator);
    modelSelect.addEventListener('change', ()=>{ updateCalculator(); highlightCPASection(); });
    ftdInput.addEventListener('input', updateCalculator);
    cpaSelect.addEventListener('change', ()=>{ updateCalculator(); renderCpaExamples(); });
    revSlider.addEventListener('input', ()=>{ updateCalculator(); updateSliderUI(); });

    function getSelectedRate(){
      if (rateSelect.value === 'custom'){
        const v = Number(customRate.value);
        return (v > 0) ? v : 25;
      }
      return Number(rateSelect.value);
    }

    // initial render of CPA examples
    renderCpaExamples();

    function updateCalculator(){
      const revenue = Number(revSlider.value);
      const rate = getSelectedRate();

      // Revenue-share earning
      const revResult = Math.round(revenue * (rate / 100));

      // CPA earning
      const ftds = Math.max(0, Number(ftdInput.value || 0));
      const cpaValueMap = { '3':3, '4':4, '5':5, '7':7, '10':10 };
      const cpaPer = cpaValueMap[cpaSelect.value] || 3;
      const cpaTotal = Math.round(ftds * cpaPer);

      // Hybrid: show both results
      const model = modelSelect.value;
      if (model === 'rev'){
        payoutDisplay.innerText = '$' + revResult.toLocaleString();
        cpaInfo.innerText = '';
      } else if (model === 'cpa'){
        payoutDisplay.innerText = '$' + cpaTotal.toLocaleString();
        cpaInfo.innerText = `CPA: ${ftds} FTDs Ã— $${cpaPer} = $${cpaTotal.toLocaleString()}`;
      } else {
        payoutDisplay.innerText = '$' + (revResult + cpaTotal).toLocaleString();
        cpaInfo.innerText = `RevShare: $${revResult.toLocaleString()} + CPA: $${cpaTotal.toLocaleString()} = $${(revResult + cpaTotal).toLocaleString()}`;
      }

      revVal.innerText = '$' + revenue.toLocaleString();
      tierInfo.innerText = `(Commission: ${rate}%)`; // important: calculator only shows commission, not tiers

      // persist slider value
      localStorage.setItem('zayn_revenue', revenue);
      updateSelectedCpaNote();
    }

    // Slider UI: update filled track, tooltip position & thumb pulse
    function updateSliderUI(){
      const min = Number(revSlider.min); const max = Number(revSlider.max); const val = Number(revSlider.value);
      const pct = ((val - min) / (max - min)) * 100;
      // set track gradient
      revSlider.style.background = `linear-gradient(90deg, var(--accent) ${pct}%, #0b1220 ${pct}%)`;

      // position tooltip
      const wrap = revSlider.getBoundingClientRect();
      const parent = revSlider.parentElement.getBoundingClientRect();
      // compute left percent relative to parent width
      const left = (pct / 100) * (wrap.width) + (wrap.left - parent.left);
      // set tooltip and thumb pulse
      sliderTool.style.left = `${left}px`;
      sliderTool.innerText = `$${Number(val).toLocaleString()}`;
      sliderTool.classList.add('visible');

      // position pulse and show when dragging or recently moved
      thumbPulse.style.left = `${left}px`;
      thumbPulse.style.display = 'block';

      // small auto-hide after short idle when not dragging
      clearTimeout(window._sliderTooltipHide);
      window._sliderTooltipHide = setTimeout(()=> {
        sliderTool.classList.remove('visible');
        // keep pulse subtle
        thumbPulse.style.display = 'none';
        document.body.classList.remove('dragging');
      }, 900);
    }

    // drag / pointer events for nicer interaction & accessibility
    let isDown = false;
    revSlider.addEventListener('pointerdown', (e) => {
      isDown = true; document.body.classList.add('dragging');
      sliderTool.classList.add('visible'); thumbPulse.style.display = 'block';
    });
    document.addEventListener('pointerup', (e) => {
      if (!isDown) return;
      isDown = false; document.body.classList.remove('dragging');
      // hide after short delay (handled in updateSliderUI)
    });

    // show tooltip on focus too (keyboard users)
    revSlider.addEventListener('focus', ()=> { sliderTool.classList.add('visible'); updateSliderUI(); });
    revSlider.addEventListener('blur', ()=> { sliderTool.classList.remove('visible'); thumbPulse.style.display='none'; });

    // initial UI sync
    updateSliderUI();
    updateCalculator();

    // highlight CPA examples when model is CPA or Hybrid
    function highlightCPASection(){
      if (modelSelect.value === 'rev') {
        cpaExamplesEl.style.opacity = '0.55';
      } else {
        cpaExamplesEl.style.opacity = '1';
      }
    }
    highlightCPASection();

    // Tier cards: open modal only (NO interaction with calculator)
    const tierCards = document.querySelectorAll('.tier-card');
    function openTierModalWith(card){
      const tier = card.dataset.tier;
      const rate = card.dataset.rate;
      const min = Number(card.dataset.min);
      const max = Number(card.dataset.max);
      document.getElementById('tierModalTitle').innerText = `${tier.charAt(0).toUpperCase()+tier.slice(1)} â€” ${rate === 'negotiable' ? 'Negotiable' : rate + '%'}`;
      const ftdMin = card.dataset.ftdMin;
      const ftdMax = card.dataset.ftdMax === '999999999' ? 'âˆž' : card.dataset.ftdMax;
      document.getElementById('tierModalBody').innerHTML = `
        <p><strong>Tier:</strong> ${tier}</p>
        <p><strong>Rate:</strong> ${rate === 'negotiable' ? 'Negotiable â€” contact us' : rate + '%'}</p>
        <p class="mt-2"><strong>Monthly NGR:</strong> ${min.toLocaleString()} â€” ${max === 999999999 ? 'âˆž' : max.toLocaleString()}</p>
        <p class="mt-2"><strong>FTD requirement:</strong> ${ftdMin} â€” ${ftdMax}</p>
        <p class="mt-2"><strong>Support:</strong> Direct support from Zayn (text only)</p>
        <hr class="my-3 border-white/10">
        <p>Perks & supports:</p>
        <ul class="list-disc ml-5 mt-2">
          <li>Dedicated onboarding</li>
          <li>Performance optimisation tips</li>
          <li>Sub-affiliate tools</li>
        </ul>
        <p class="mt-3 text-xs text-white/60">Note: FTD thresholds and CPA offers can be adjusted by region.</p>
      `;
      document.getElementById('tierModal').classList.remove('hidden'); document.getElementById('tierModal').classList.add('flex');
    }

    tierCards.forEach(card=>{
      card.addEventListener('click', ()=> openTierModalWith(card));
      card.addEventListener('keydown', (e)=>{ if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openTierModalWith(card); } });
    });

    // modal controls
    document.getElementById('closeTierModal').addEventListener('click', ()=> { document.getElementById('tierModal').classList.add('hidden'); document.getElementById('tierModal').classList.remove('flex'); });
    document.getElementById('tierCloseBtn').addEventListener('click', ()=> { document.getElementById('tierModal').classList.add('hidden'); document.getElementById('tierModal').classList.remove('flex'); });

    // Request Info (Text only)
    const handle = 'ZAYN1x';
    function openTelegramDM(prefill){
      const text = encodeURIComponent(prefill || "Hi Zayn, I want more info about the affiliate program and tiers. Please text me details.");
      const tgLink = `https://t.me/${handle}?text=${text}`;
      window.open(tgLink, '_blank', 'noopener');
    }
    document.getElementById('tierCallBtn').addEventListener('click', ()=> {
      const title = document.getElementById('tierModalTitle').innerText;
      openTelegramDM(`Hi Zayn, I'm interested in ${title}. Please text me more info.`);
    });

    // contact area
    document.getElementById('dmZayn').addEventListener('click', ()=> openTelegramDM());
    document.getElementById('sendMsgBtn').addEventListener('click', ()=> {
      const name = document.getElementById('nameInput').value.trim() || 'Friend';
      const contact = document.getElementById('contactInput').value.trim() || '';
      const msg = document.getElementById('messageInput').value.trim() || '';
      if (!contact && !msg) { toast('Please add contact or a short message.'); return; }
      const text = encodeURIComponent(`Name: ${name}\nContact: ${contact}\nMessage: ${msg}`);
      const tgLink = `https://t.me/${handle}?text=${text}`;
      try { window.open(tgLink, '_blank', 'noopener'); toast('Opened Telegram â€” sending message...'); } catch (e) { window.location.href = `mailto:support@zayn1x.example?subject=Affiliate%20Inquiry&body=${text}`; }
    });

    // download guide (fallback logic)
    document.getElementById('downloadPdf').addEventListener('click', ()=> {
      const url = 'assets/affiliate_en.pdf';
      fetch(url, {method:'HEAD'}).then(r => {
        if (r.ok) window.open(url, '_blank'); else { toast('Guide not found locally â€” opening sample'); window.open('https://example.com/affiliate_en.pdf', '_blank'); }
      }).catch(()=> window.open('https://example.com/affiliate_en.pdf', '_blank'));
    });

    // open forms
    window.openForm = function(lang){
      const urls = { EN: "https://forms.gle/jdWbKvg8qbRqXomi9", AR: "https://forms.gle/LijfMVsGhbnLVKwo8", FR: "https://forms.gle/fp7rofvUAo1PEoCu7", TR: "https://forms.gle/5c6zrjN3JrQuzhtz9" };
      const target = urls[lang] || urls.EN; window.open(target, '_blank', 'noopener');
    }

    function openContact(){ document.getElementById('contact')?.scrollIntoView({behavior:'smooth'}); }
    function scrollToApply(){ document.getElementById('apply')?.scrollIntoView({behavior:'smooth'}); }
    document.getElementById('navContact')?.addEventListener('click', openContact);

    // small hint
    setTimeout(()=> toast('Tip: Calculator is independent â€” it estimates earnings only.'), 1200);
  </script>
</body>
</html>
